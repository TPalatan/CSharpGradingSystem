@{
    Layout = "~/Views/Shared/_Layout.cshtml";
    ViewData["Title"] = "Forgot Password";
}

<div class="login-page d-flex justify-content-center align-items-center vh-100"
     style="background: url('~/images/background.jpg') no-repeat center center fixed; background-size: cover;">

    <div class="login-card shadow-lg p-5 rounded-4"
         style="max-width: 450px; width:100%; backdrop-filter: blur(15px); background: rgba(255,255,255,0.12); border: 1px solid rgba(255,255,255,0.25);">

        <!-- Header -->
        <div class="text-center mb-4">
            <h2 class="fw-bold mb-1 text-white">Forgot Password?</h2>
            <p class="small text-white-50">Enter your email to receive a confirmation code</p>
        </div>

        <!-- Form -->
        <form asp-action="ForgotPassword" method="post" class="needs-validation" novalidate>
            <div class="mb-3">
                <label class="form-label fw-semibold text-white">Email</label>
                <input type="email" name="email" class="form-control rounded-pill p-3" placeholder="Enter your email" required
                       style="background-color: rgba(255,255,255,0.2); color: #fff; border: 1px solid rgba(255,255,255,0.35); font-size: 0.95rem;" />
                <div class="invalid-feedback">Please enter your email.</div>
            </div>

            <button type="submit" class="btn btn-gradient w-100 rounded-pill py-2 fw-semibold">
                <i class="bi bi-envelope-fill me-1"></i> Send Confirmation Code
            </button>
        </form>

        <!-- Alerts -->
        @if (ViewBag.Error != null)
        {
            <div class="alert alert-danger mt-3 text-center rounded-pill py-2">@ViewBag.Error</div>
        }
        @if (TempData["Success"] != null)
        {
            <div class="alert alert-success mt-3 text-center rounded-pill py-2">@TempData["Success"]</div>
        }

        <!-- Back to Login -->
        <div class="text-center mt-4">
            <a asp-action="Login" class="text-decoration-none small text-white-50 hover-link">Back to Login</a>
        </div>
    </div>
</div>

<style>
    .hover-link:hover {
        color: #7ef3b0 !important;
        text-decoration: underline;
    }

    .login-card input::placeholder {
        color: rgba(255, 255, 255, 0.7);
    }

    .login-card input:focus {
        outline: none;
        box-shadow: 0 0 15px rgba(46, 204, 113, 0.5);
        border-color: rgba(46, 204, 113, 0.7);
    }

    .btn-gradient {
        background: linear-gradient(135deg, #2ecc71, #27ae60);
        color: #fff;
        font-size: 0.95rem;
        border: none;
        transition: all 0.3s ease;
        box-shadow: 0 4px 15px rgba(0,0,0,0.2);
    }

        .btn-gradient:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.25);
        }
</style>

<script>
    (() => {
        'use strict';
        const forms = document.querySelectorAll('.needs-validation');
        Array.from(forms).forEach(form => {
            form.addEventListener('submit', event => {
                if (!form.checkValidity()) {
                    event.preventDefault();
                    event.stopPropagation();
                }
                form.classList.add('was-validated');
            }, false);
        });
    })();
</script>
