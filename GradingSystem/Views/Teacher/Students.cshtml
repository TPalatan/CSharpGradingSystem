@model IDictionary<GradingSystem.Models.Subject, List<GradingSystem.Models.Student>>

@{
    Layout = "~/Views/Shared/_TeacherLayout.cshtml";
    ViewData["Title"] = "My Students";
}

<div style="max-width: 1100px; margin: 40px auto; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; color: #333;">

    <h1 style="text-align: center; color: #007bff; margin-bottom: 30px; font-weight: 600;">My Students</h1>

    @if (Model != null && Model.Any())
    {
        @foreach (var kvp in Model)
        {
            var subject = kvp.Key;
            var students = kvp.Value;

            <div style="margin-bottom: 50px;">
                <!-- Subject Header -->
                <h2 style="margin-bottom: 15px; color: #007bff; border-bottom: 2px solid #007bff; padding-bottom: 5px;">
                    @subject.SubjectName (@subject.SubjectCode)
                </h2>

                @if (students != null && students.Any())
                {
                    <table style="width: 100%; border-collapse: collapse; border-radius: 10px; overflow: hidden; box-shadow: 0 2px 10px rgba(0,0,0,0.08);">
                        <thead>
                            <tr style="background-color: #007bff; color: #fff; text-align: left;">
                                <th style="padding: 12px 15px;">#</th>
                                <th style="padding: 12px 15px;">Student ID</th>
                                <th style="padding: 12px 15px;">Full Name</th>
                                <th style="padding: 12px 15px;">Course</th>
                                <th style="padding: 12px 15px;">Year Level</th>
                            </tr>
                        </thead>
                        <tbody>
                            @for (int i = 0; i < students.Count; i++)
                            {
                                var student = students[i];
                                <tr style="background-color: @(i % 2 == 0 ? "#f9f9f9" : "#ffffff"); transition: background-color 0.2s;"
                                    onmouseover="this.style.backgroundColor='#e9f5ff'"
                                    onmouseout="this.style.backgroundColor='@(i % 2 == 0 ? "#f9f9f9" : "#ffffff")'">
                                    <td style="padding: 10px 15px;">@(i + 1)</td>
                                    <td style="padding: 10px 15px;">@student.StudentID</td>
                                    <td style="padding: 10px 15px;">@student.FullName</td>
                                    <td style="padding: 10px 15px;">@student.Course</td>
                                    <td style="padding: 10px 15px;">@student.YearLevel</td>
                                </tr>
                            }
                        </tbody>
                    </table>
                }
                else
                {
                    <p style="color: #888; font-size: 14px; margin-top: 10px;">No students enrolled in this subject yet.</p>
                }
            </div>
        }
    }
    else
    {
        <p style="text-align: center; color: #888; font-size: 16px;">You have no subjects assigned yet.</p>
    }
</div>
